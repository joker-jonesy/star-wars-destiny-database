{"ast":null,"code":"import _slicedToArray from\"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSpinner,faExclamationCircle,faHeart}from'@fortawesome/free-solid-svg-icons';import Side from'./Side';function CardInfo(props){var _React$useState=React.useState([{format:\"trilogy\",restricted:false,balance:\"--\",legal:false},{format:\"standard\",restricted:false,balance:\"--\",legal:false},{format:\"infinite\",restricted:false,balance:\"--\",legal:true}]),_React$useState2=_slicedToArray(_React$useState,2),rst=_React$useState2[0],setRst=_React$useState2[1];var _React$useState3=React.useState({rst:false,load:true,error:false}),_React$useState4=_slicedToArray(_React$useState3,2),rend=_React$useState4[0],rendElement=_React$useState4[1];React.useEffect(function(){var abortController=new AbortController();var signal=abortController.signal;function handleStatusChange(status){setRst(status);}fetch(\"https://swdestinydb.com/api/public/formats/\",{signal:signal}).then(function(response){return response.json();}).then(function(data){var formatSet=[];data.map(function(fm){var format={name:fm.name,restricted:false,balance:\"--\",legal:false};if(props.code in fm.data.balance){format.balance=fm.data.balance[props.code];}if(fm.data.restricted.includes(props.code)){format.restricted=true;}if(fm.data.sets.includes(props.crd.set_code)){format.legal=true;}rendElement({rst:true,load:false,error:false});return formatSet.push(format);});handleStatusChange(formatSet);}).catch(function(){return rendElement({rst:false,load:false,error:true});});return function cleanup(){abortController.abort();};},[props.code,props.crd.set_code]);var formats=rst.map(function(fm,idx){return React.createElement(\"div\",{key:idx,className:\"format\"},React.createElement(\"h3\",null,fm.name),React.createElement(\"h5\",{className:\"restrict\"},fm.restricted?\"Restricted\":null),React.createElement(\"h3\",null,fm.balance),React.createElement(\"h6\",{className:!fm.legal?\"restrict\":null},fm.legal?\"Playable\":\"Unplayable\"));});return React.createElement(\"div\",{className:\"cardInfo\"},React.createElement(\"h1\",null,props.crd.is_unique&&\"◆ \",props.crd.name),props.crd.health&&React.createElement(\"h2\",null,React.createElement(FontAwesomeIcon,{icon:faHeart,size:\"lg\",style:{color:\"red\"}}),\" \",props.crd.health),props.crd.cost!==null&&React.createElement(\"h2\",{className:\"cost\"},React.createElement(\"span\",{className:\"icon icon-resource \"}),\" \",props.crd.cost,\" \"),React.createElement(\"h2\",null,props.crd.points&&\"Points:\",props.crd.points),React.createElement(\"h2\",null,props.crd.type_name),React.createElement(\"div\",{className:\"subtypes\"},props.crd.subtypes!==undefined&&props.crd.subtypes.map(function(sb,idx){return React.createElement(\"h3\",{key:idx},sb.name,idx!==props.crd.subtypes.length-1&&\"-\");})),React.createElement(\"div\",{className:\"sides\"},props.crd.sides!==undefined&&props.crd.sides.map(function(sd,idx){return React.createElement(Side,{key:idx,sd:sd});})),React.createElement(\"div\",{className:\"formats\"},rend.rst&&formats),React.createElement(\"div\",null,rend.load&&React.createElement(FontAwesomeIcon,{icon:faSpinner,spin:true,size:\"lg\",style:{color:props.loadColor}}),rend.error&&React.createElement(FontAwesomeIcon,{icon:faExclamationCircle,style:{color:\"red\"},size:\"6x\"})),React.createElement(\"div\",{className:\"text\"},React.createElement(\"h3\",{className:\"errata\"},props.crd.has_errata&&\"This card has an errata\"),props.crd.text!==null&&React.createElement(\"p\",{dangerouslySetInnerHTML:{__html:props.crd.text.replace(\"[special]\",\"<span class='icon\"+\" icon-special '></span>\").replace(\"([special])\",\"(<span class='icon\"+\" icon-special '></span>)\").replace(\"([indirect])\",\"(<span class='icon\"+\" icon-indirect '></span>)\").replace(\"([melee])\",\"(<span class='icon\"+\" icon-melee '></span>)\").replace(\"([ranged])\",\"(<span class='icon\"+\" icon-ranged '></span>)\").replace(\"([discard])\",\"(<span class='icon\"+\" icon-discard '></span>)\").replace(\"([focus])\",\"(<span class='icon\"+\" icon-focus '></span>)\").replace(\"([disrupt])\",\"(<span class='icon\"+\" icon-disrupt '></span>)\").replace(\"([shield])\",\"(<span class='icon\"+\" icon-shield '></span>)\").replace(\"([resource])\",\"(<span class='icon\"+\" icon-resource '></span>)\").replace(\"([blank])\",\"(<span class='icon\"+\" icon-blank '></span>)\").replace(\"([ranged] or [melee])\",\"(<span class='icon\"+\" icon-ranged '></span> or <span class='icon\"+\" icon-melee '></span>)\").replace(\"([melee] or [ranged])\",\"(<span class='icon\"+\" icon-ranged '></span> or <span class='icon\"+\" icon-melee '></span>)\").replace(\"([ranged] or [melee])\",\"(<span class='icon\"+\" icon-ranged '></span> or <span class='icon\"+\" icon-melee '></span>)\").replace(\"([ranged], [melee] or [indirect])\",\"(<span class='icon\"+\" icon-ranged '></span>, <span class='icon\"+\" icon-melee '></span> or <span class='icon\"+\" icon-indirect '></span>)\").replace(\"([ranged], [melee], or [indirect])\",\"(<span class='icon\"+\" icon-ranged '></span>, <span class='icon\"+\" icon-melee '></span> or <span class='icon\"+\" icon-indirect '></span>)\").replace(\"[AW]\",\"<span class='icon\"+\" icon-set-AW'></span>\").replace(\"[WotF]\",\"<span class='icon\"+\" icon-set-WotF'></span>\").replace(\"[RIV]\",\"<span class='icon\"+\" icon-set-RIV'></span>\").replace(\"[SoR]\",\"<span class='icon\"+\" icon-set-SoR'></span>\").replace(\"[LEG]\",\"<span class='icon\"+\" icon-set-LEG'></span>\").replace(\"[EaW]\",\"<span class='icon\"+\" icon-set-EaW'></span>\").replace(\"[AtG]\",\"<span class='icon\"+\" icon-set-AtG'></span>\").replace(\"[CONV]\",\"<span class='icon\"+\" icon-set-CONV'></span>\").replace(\"[AoN]\",\"<span class='icon\"+\" icon-set-AoN'></span>\").replace(\"[SoH]\",\"<span class='icon\"+\" icon-set-SoH'></span>\")},className:\"effects\"}),React.createElement(\"i\",null,props.crd.flavor!==null&&props.crd.flavor.replace(\"<cite>\",\"-\").replace(\"</cite>\",\"\")),React.createElement(\"div\",{className:\"bottom\"},React.createElement(\"div\",{className:\"affl \"+props.crd.affiliation_name},props.crd.affiliation_name),React.createElement(\"div\",{className:\"rr \"+props.crd.rarity_name},props.crd.rarity_name),React.createElement(\"div\",{className:\"color\",style:{backgroundColor:props.crd.faction_code,color:props.crd.faction_code==='blue'?'white':'black'}},props.crd.faction_code.toUpperCase()),React.createElement(\"div\",{className:\"setStuff\"},React.createElement(\"span\",{className:\"icon icon-set-\"+props.crd.set_code}),props.crd.set_name,\": \",props.crd.position))));}export default CardInfo;","map":{"version":3,"sources":["/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/CardInfo.js"],"names":["React","FontAwesomeIcon","faSpinner","faExclamationCircle","faHeart","Side","CardInfo","props","useState","format","restricted","balance","legal","rst","setRst","load","error","rend","rendElement","useEffect","abortController","AbortController","signal","handleStatusChange","status","fetch","then","response","json","data","formatSet","map","fm","name","code","includes","sets","crd","set_code","push","catch","cleanup","abort","formats","idx","is_unique","health","color","cost","points","type_name","subtypes","undefined","sb","length","sides","sd","loadColor","has_errata","text","__html","replace","flavor","affiliation_name","rarity_name","backgroundColor","faction_code","toUpperCase","set_name","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faSpinner, faExclamationCircle, faHeart} from '@fortawesome/free-solid-svg-icons';\nimport Side from './Side';\n\n\nfunction CardInfo(props) {\n\n    const [rst, setRst] = React.useState([\n\n        {\n            format: \"trilogy\",\n            restricted: false,\n            balance: \"--\",\n            legal: false\n        },\n        {\n            format: \"standard\",\n            restricted: false,\n            balance: \"--\",\n            legal: false\n        },\n        {\n            format: \"infinite\",\n            restricted: false,\n            balance: \"--\",\n            legal: true\n        }\n    ]);\n\n    const [rend, rendElement] = React.useState({\n        rst: false,\n        load: true,\n        error: false\n    });\n\n\n    React.useEffect(() => {\n\n        const abortController = new AbortController();\n        const signal = abortController.signal;\n\n\n        function handleStatusChange(status) {\n            setRst(status);\n        }\n\n\n        fetch(\"https://swdestinydb.com/api/public/formats/\", {signal: signal})\n            .then(response => {\n                return response.json();\n            })\n            .then((data) => {\n                let formatSet = [];\n\n                data.map((fm) => {\n\n                    let format = {\n                        name: fm.name,\n                        restricted: false,\n                        balance: \"--\",\n                        legal: false\n                    };\n\n                    if (props.code in fm.data.balance) {\n                        format.balance = fm.data.balance[props.code];\n                    }\n\n                    if (fm.data.restricted.includes(props.code)) {\n                        format.restricted = true;\n                    }\n\n                    if (fm.data.sets.includes(props.crd.set_code)) {\n                        format.legal = true;\n                    }\n\n                    rendElement({rst: true, load: false, error: false});\n\n\n                    return formatSet.push(format);\n\n                });\n\n                handleStatusChange(formatSet);\n            }).catch(() => rendElement({rst: false, load: false, error: true}))\n\n\n        return function cleanup() {\n            abortController.abort();\n        };\n    }, [props.code, props.crd.set_code]);\n\n    let formats = rst.map((fm, idx) =>\n        <div key={idx} className={\"format\"}>\n            <h3>{fm.name}</h3>\n            <h5 className={\"restrict\"}>{fm.restricted ? \"Restricted\" : null}</h5>\n            <h3>{fm.balance}</h3>\n            <h6 className={!fm.legal ? \"restrict\" : null}>{fm.legal ? \"Playable\" : \"Unplayable\"}</h6>\n        </div>\n    );\n\n\n    return (\n        <div className={\"cardInfo\"}>\n            <h1>{props.crd.is_unique && \"◆ \"}{props.crd.name}</h1>\n            {props.crd.health &&\n            <h2><FontAwesomeIcon icon={faHeart} size={\"lg\"} style={{color: \"red\"}}/> {props.crd.health}</h2>}\n            {props.crd.cost!==null &&\n            <h2 className={\"cost\"}><span className='icon icon-resource '></span> {props.crd.cost} </h2>}\n            <h2>{props.crd.points && \"Points:\"}{props.crd.points}</h2>\n            <h2>{props.crd.type_name}</h2>\n            <div className={\"subtypes\"}>{props.crd.subtypes !== undefined && props.crd.subtypes.map((sb, idx) =>\n                <h3 key={idx}>{sb.name}{idx !== (props.crd.subtypes.length - 1) && \"-\"}</h3>\n            )}</div>\n            <div className={\"sides\"}>{props.crd.sides !== undefined && props.crd.sides.map((sd, idx) =>\n                <Side key={idx} sd={sd}/>\n            )}</div>\n            <div className={\"formats\"}>\n                {rend.rst && formats}\n            </div>\n            <div>\n                {rend.load && <FontAwesomeIcon icon={faSpinner} spin size={\"lg\"} style={{color: props.loadColor}}/>}\n                {rend.error && <FontAwesomeIcon icon={faExclamationCircle} style={{color: \"red\"}} size={\"6x\"}/>}\n            </div>\n            <div className={\"text\"}>\n                <h3 className={\"errata\"}>{props.crd.has_errata && \"This card has an errata\"}</h3>\n                {props.crd.text !== null && <p dangerouslySetInnerHTML={{\n                    __html: props.crd.text.replace(\"[special]\", \"<span class='icon\" +\n                        \" icon-special '></span>\").replace(\"([special])\", \"(<span class='icon\" +\n                        \" icon-special '></span>)\").replace(\"([indirect])\", \"(<span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"([melee])\", \"(<span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>)\").replace(\"([discard])\", \"(<span class='icon\" +\n                        \" icon-discard '></span>)\").replace(\"([focus])\", \"(<span class='icon\" +\n                        \" icon-focus '></span>)\").replace(\"([disrupt])\", \"(<span class='icon\" +\n                        \" icon-disrupt '></span>)\").replace(\"([shield])\", \"(<span class='icon\" +\n                        \" icon-shield '></span>)\").replace(\"([resource])\", \"(<span class='icon\" +\n                        \" icon-resource '></span>)\").replace(\"([blank])\", \"(<span class='icon\" +\n                        \" icon-blank '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([melee] or [ranged])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged], [melee] or [indirect])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>, <span class='icon\" +\n                        \" icon-melee '></span> or <span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"([ranged], [melee], or [indirect])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>, <span class='icon\" +\n                        \" icon-melee '></span> or <span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"[AW]\", \"<span class='icon\" +\n                        \" icon-set-AW'></span>\").replace(\"[WotF]\", \"<span class='icon\" +\n                        \" icon-set-WotF'></span>\").replace(\"[RIV]\", \"<span class='icon\" +\n                        \" icon-set-RIV'></span>\").replace(\"[SoR]\", \"<span class='icon\" +\n                        \" icon-set-SoR'></span>\").replace(\"[LEG]\", \"<span class='icon\" +\n                        \" icon-set-LEG'></span>\").replace(\"[EaW]\", \"<span class='icon\" +\n                        \" icon-set-EaW'></span>\").replace(\"[AtG]\", \"<span class='icon\" +\n                        \" icon-set-AtG'></span>\").replace(\"[CONV]\", \"<span class='icon\" +\n                        \" icon-set-CONV'></span>\").replace(\"[AoN]\", \"<span class='icon\" +\n                        \" icon-set-AoN'></span>\").replace(\"[SoH]\", \"<span class='icon\" +\n                        \" icon-set-SoH'></span>\")\n                }} className={\"effects\"}></p>}\n\n                <i>{props.crd.flavor !== null && props.crd.flavor.replace(\"<cite>\", \"-\").replace(\"</cite>\", \"\")}</i>\n\n                <div className={\"bottom\"}>\n                    <div className={\"affl \" + props.crd.affiliation_name}>{props.crd.affiliation_name}</div>\n\n                    <div className={\"rr \" + props.crd.rarity_name}>{props.crd.rarity_name}</div>\n\n                    <div className={\"color\"} style={{\n                        backgroundColor: props.crd.faction_code,\n                        color: (props.crd.faction_code==='blue'?'white':'black')\n                    }}>\n                        {props.crd.faction_code.toUpperCase()}\n                    </div>\n                    <div className={\"setStuff\"}><span\n                        className={\"icon icon-set-\" + props.crd.set_code}></span>{props.crd.set_name}: {props.crd.position}\n                    </div>\n                </div>\n\n\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default CardInfo"]},"metadata":{},"sourceType":"module"}